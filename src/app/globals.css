@import "tailwindcss";

@theme inline {
    /* Fonts */
    --font-sans: var(--font-figtree), system-ui, sans-serif;
    --font-mono: var(--font-fira-code), ui-monospace, monospace;

    /* Backgrounds & Surfaces */
    --color-bg-base: oklch(12% 0.003 240);
    --color-bg-layer-1: oklch(16% 0.005 240);
    --color-bg-layer-2: oklch(20% 0.006 240);
    --color-bg-layer-3: oklch(24% 0.007 240);
    --color-bg-acrylic-base: oklch(from var(--color-bg-layer-1) l c h / 0.75);
    --color-bg-acrylic-navbar: oklch(from var(--color-bg-layer-1) l c h / 0.6);
    --color-bg-acrylic-light: oklch(from var(--color-bg-layer-1) l c h / 0.5);

    /* Text */
    --color-text-primary: oklch(92% 0.002 240);
    --color-text-secondary: oklch(70% 0.004 240);
    --color-text-muted: oklch(55% 0.005 240);
    --color-text-disabled: oklch(40% 0.005 240);
    --color-text-on-accent: oklch(98% 0 0);
    --color-text-on-destructive: oklch(98% 0 0);

    /* Accent */
    --color-accent-primary: oklch(60% 0.22 255);
    --color-accent-primary-hover: oklch(65% 0.23 255);
    --color-accent-primary-active: oklch(55% 0.21 255);
    --color-accent-primary-soft: oklch(from var(--color-accent-primary) l c h / 0.15);
    --color-accent-primary-soft-hover: oklch(from var(--color-accent-primary) l c h / 0.25);

    /* Borders */
    --color-border-subtle: oklch(25% 0.005 240);
    --color-border-interactive: oklch(35% 0.008 240);
    --color-border-focus: var(--color-accent-primary);
    --color-border-divider: oklch(22% 0.004 240);

    /* Status Colors */
    --color-destructive: oklch(55% 0.24 25);
    --color-destructive-hover: oklch(60% 0.25 25);
    --color-destructive-active: oklch(50% 0.23 25);
    --color-destructive-soft: oklch(from var(--color-destructive) l c h / 0.15);
    --color-success: oklch(65% 0.2 150);
    --color-success-soft: oklch(from var(--color-success) l c h / 0.15);
    --color-warning: oklch(75% 0.18 85);
    --color-warning-soft: oklch(from var(--color-warning) l c h / 0.15);
    --color-info: var(--color-accent-primary);
    --color-info-soft: oklch(from var(--color-info) l c h / 0.15);

    /* Shadows */
    --shadow-sm:
        0 1px 2px oklch(from var(--color-bg-base) l c h / 0.1),
        0 1px 3px oklch(from var(--color-bg-base) l c h / 0.08);
    --shadow-md:
        0 4px 8px oklch(from var(--color-bg-base) l c h / 0.12),
        0 2px 4px oklch(from var(--color-bg-base) l c h / 0.08);
    --shadow-lg:
        0 8px 16px oklch(from var(--color-bg-base) l c h / 0.15),
        0 4px 8px oklch(from var(--color-bg-base) l c h / 0.1);
    --shadow-xl:
        0 12px 24px oklch(from var(--color-bg-base) l c h / 0.2),
        0 6px 12px oklch(from var(--color-bg-base) l c h / 0.15);
    --shadow-inner: inset 0 2px 4px 0 oklch(from var(--color-bg-base) l c h / 0.05);
    --shadow-fluent-card:
        0 1.6px 3.6px 0 oklch(from black l c h / 0.11), 0 0.3px 0.9px 0 oklch(from black l c h / 0.09);
    --shadow-fluent-dialog:
        0 6.4px 14.4px 0 oklch(from black l c h / 0.13), 0 1.2px 3.6px 0 oklch(from black l c h / 0.11);
    --shadow-fluent-popup:
        0 3.2px 7.2px 0 oklch(from black l c h / 0.12), 0 0.6px 1.8px 0 oklch(from black l c h / 0.1);
    --shadow-fluent-flyout:
        0 8px 16px 0 oklch(from black l c h / 0.14), 0 2px 4px 0 oklch(from black l c h / 0.12);

    /* Radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;

    /* Transitions */
    --transition-short: 150ms;
    --transition-medium: 250ms;
    --transition-long: 400ms;
    --transition-easing: cubic-bezier(0.4, 0, 0.2, 1);
    --transition-fluent-accelerate: cubic-bezier(0.7, 0, 1, 0.5);
    --transition-fluent-decelerate: cubic-bezier(0, 0.5, 0.3, 1);
    --transition-fluent-entrance: cubic-bezier(0.1, 0.9, 0.2, 1);
    --transition-fluent-exit: cubic-bezier(0.7, 0, 0.84, 0);

    /* Layout */
    --navbar-height: 4rem;

    /* Tailwind v4 Core Color Mappings */
    --color-background: var(--color-bg-base);
    --color-foreground: var(--color-text-primary);
    --color-card: var(--color-bg-layer-1);
    --color-card-foreground: var(--color-text-primary);
    --color-popover: var(--color-bg-layer-1);
    --color-popover-foreground: var(--color-text-primary);
    --color-primary: var(--color-accent-primary);
    --color-primary-foreground: var(--color-text-on-accent);
    --color-secondary: var(--color-bg-layer-2);
    --color-secondary-foreground: var(--color-text-primary);
    --color-muted: var(--color-bg-layer-2);
    --color-muted-foreground: var(--color-text-muted);
    --color-accent: var(--color-bg-layer-2);
    --color-accent-foreground: var(--color-text-primary);
    --color-destructive: var(--color-destructive);
    --color-destructive-foreground: var(--color-text-on-destructive);
    --color-border: var(--color-border-subtle);
    --color-input: var(--color-border-subtle);
    --color-ring: var(--color-border-focus);
}

/* Base Styles */
*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    background-color: var(--color-bg-base);
    color: var(--color-text-primary);
    font-family: var(--font-sans);
    line-height: 1.6;
    padding-top: var(--navbar-height);
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* Typography System */
h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--font-sans);
    color: var(--color-text-primary);
    font-weight: 600;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

h1 {
    font-size: 2.5rem;
    font-weight: 700;
    letter-spacing: -0.03em;
}

h2 {
    font-size: 2rem;
    font-weight: 600;
    letter-spacing: -0.025em;
}

h3 {
    font-size: 1.5rem;
    font-weight: 600;
    letter-spacing: -0.02em;
}

h4 {
    font-size: 1.25rem;
    font-weight: 600;
    letter-spacing: -0.015em;
}

h5 {
    font-size: 1.125rem;
    font-weight: 600;
    letter-spacing: -0.01em;
}

h6 {
    font-size: 1rem;
    font-weight: 600;
    letter-spacing: -0.005em;
}

p {
    color: var(--color-text-secondary);
    line-height: 1.65;
    margin: 0;
}

a {
    /* color: var(--color-accent-primary); */
    text-decoration: none;
    transition: all var(--transition-short) var(--transition-easing);
    border-radius: var(--radius-sm);
    outline: none;
}

a:hover {
    color: var(--color-accent-primary-hover);
    text-decoration: underline;
    text-decoration-thickness: 1.5px;
    text-underline-offset: 2px;
}

a:focus-visible {
    outline: 2px solid var(--color-border-focus);
    outline-offset: 2px;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--color-bg-base);
    border-radius: var(--radius-md);
}

::-webkit-scrollbar-thumb {
    background-color: var(--color-bg-layer-2);
    border-radius: var(--radius-md);
    border: 2px solid var(--color-bg-base);
    transition: background-color var(--transition-short) ease;
}

::-webkit-scrollbar-thumb:hover {
    background-color: oklch(30% 0.006 240);
}

::-webkit-scrollbar-corner {
    background: var(--color-bg-base);
}

/* Selection */
::selection {
    background-color: var(--color-accent-primary);
    color: var(--color-text-on-accent);
}

/* Focus System */
*:focus-visible {
    outline: 2px solid var(--color-border-focus);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
}

*:focus:not(:focus-visible) {
    outline: none;
}

/* Utility Classes */
.clip-path-\[inset\(50\%\)\] {
    clip-path: inset(50%);
}

.fluent-acrylic {
    background-color: var(--color-bg-acrylic-base);
    backdrop-filter: blur(16px) saturate(1.8);
    -webkit-backdrop-filter: blur(16px) saturate(1.8);
}

.fluent-acrylic-navbar {
    background-color: var(--color-bg-acrylic-navbar);
    backdrop-filter: blur(24px) saturate(1.2);
    -webkit-backdrop-filter: blur(24px) saturate(1.2);
}

.fluent-acrylic-light {
    background-color: var(--color-bg-acrylic-light);
    backdrop-filter: blur(12px) saturate(1.5);
    -webkit-backdrop-filter: blur(12px) saturate(1.5);
}

.text-gradient-primary {
    background: linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-primary-hover));
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.fluent-surface {
    background-color: var(--color-bg-layer-1);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-fluent-card);
}

.fluent-surface-hover {
    transition: all var(--transition-short) var(--transition-easing);
}

.fluent-surface-hover:hover {
    border-color: var(--color-border-interactive);
    box-shadow: var(--shadow-fluent-popup);
    transform: translateY(-1px);
}

.fluent-glass {
    background: linear-gradient(
        135deg,
        oklch(from var(--color-bg-layer-1) l c h / 0.8) 0%,
        oklch(from var(--color-bg-layer-1) l c h / 0.6) 100%
    );
    backdrop-filter: blur(20px) saturate(1.5);
    -webkit-backdrop-filter: blur(20px) saturate(1.5);
    border: 1px solid oklch(from white l c h / 0.1);
}

/* Animations */
@keyframes fadeInUp {
    0% {
        opacity: 0;
        transform: translateY(16px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInDown {
    0% {
        opacity: 0;
        transform: translateY(-16px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes scaleIn {
    0% {
        opacity: 0;
        transform: scale(0.95);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes blink {
    0%,
    50% {
        opacity: 1;
    }
    51%,
    100% {
        opacity: 0;
    }
}

@keyframes dialogContentShow {
    0% {
        opacity: 0;
        transform: translate(-50%, -48%) scale(0.96);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

@keyframes dialogContentHide {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -48%) scale(0.96);
    }
}

@keyframes dialogOverlayShow {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}

@keyframes dialogOverlayHide {
    0% {
        opacity: 1;
    }
    100% {
        opacity: 0;
    }
}

.animate-fade-in-up {
    animation: fadeInUp var(--transition-medium) var(--transition-fluent-entrance) forwards;
}

.animate-fade-in-down {
    animation: fadeInDown var(--transition-medium) var(--transition-fluent-entrance) forwards;
}

.animate-scale-in {
    animation: scaleIn var(--transition-medium) var(--transition-fluent-entrance) forwards;
}

.animate-dialog-content-show {
    animation: dialogContentShow var(--transition-medium) var(--transition-fluent-entrance) forwards;
}

.animate-dialog-content-hide {
    animation: dialogContentHide var(--transition-short) var(--transition-fluent-exit) forwards;
}

.animate-dialog-overlay-show {
    animation: dialogOverlayShow var(--transition-medium) ease-out forwards;
}

.animate-dialog-overlay-hide {
    animation: dialogOverlayHide var(--transition-short) ease-in forwards;
}

.terminal-caret {
    display: inline-block;
    width: 0.5rem;
    height: 1rem;
    background-color: var(--color-accent-primary);
    margin-left: 0.25rem;
    animation: blink 1s infinite;
}

/* Responsive Design */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

@media (prefers-contrast: high) {
    :root {
        --color-border-subtle: oklch(40% 0.008 240);
        --color-border-interactive: oklch(50% 0.01 240);
    }
}

@media print {
    body {
        background: white !important;
        color: black !important;
    }

    .fluent-acrylic,
    .fluent-acrylic-navbar,
    .fluent-acrylic-light {
        background: white !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
    }
}
